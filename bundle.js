(function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c="function"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error("Cannot find module '"+i+"'");throw a.code="MODULE_NOT_FOUND",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u="function"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()({1:[function(require,module,exports){
"use strict";function imageDataFromVideo(e,t,n){var a=document.createElement("canvas");a.width=t,a.height=n;var o=a.getContext("2d");try{o.drawImage(e,0,0,t,n)}catch(e){if("NS_ERROR_NOT_AVAILABLE"!=e.name)throw e}return o.getImageData(0,0,t,n)}var updateFrameRateInfo=function(){var e=document.getElementById("info_frame"),t=document.getElementById("info_fps"),n=new Int32Array(8),a=0,o=0;return function(r){a+=r-n[o],n[o++]=r,8===o&&(o=0),e.innerHTML=Math.round(a/8)+" ms",t.innerHTML=Math.round(8e3/a)}}();function getThreshold(){var e=document.getElementById("info_threshold").innerHTML;return Number(e)}function initControls(){document.getElementById("res_in").onchange=function(){var e=this.value,t=64*e,n=48*e,a=document.getElementById("canvas");a.width=t,a.height=n},document.getElementById("res_in").onchange(),document.getElementById("threshold_in").onchange=function(){var e=this.value;document.getElementById("info_threshold").innerHTML=100*e},document.getElementById("threshold_in").onchange()}function sendImageDataToWorker(e,t,n){var a={imageData:imageDataFromVideo(t,e.width,e.height),threshold:getThreshold()};n.postMessage(a)}function main(){var e=document.getElementById("canvas"),t=e.getContext("2d"),n=document.getElementById("video");navigator.mediaDevices.getUserMedia({video:!0}).then(t=>{window.stream=t,n.srcObject=t,n.play(),sendImageDataToWorker(e,n,a)}).catch(e=>{console.error(`${e.name}: ${e.message}`)});var a=new Worker("w.js");a.addEventListener("message",function(o){t.putImageData(o.data.imageData,0,0),updateFrameRateInfo(o.data.time),sendImageDataToWorker(e,n,a)}),initControls()}main();

},{}]},{},[1]);
